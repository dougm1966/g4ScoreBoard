<!doctype html>
<html>
<head>
	<!-- CRITICAL: Theme stylesheets MUST stay in this exact order -->
	<!-- obsThemeChange() uses document.styleSheets[0..5] indices -->
	<link rel="stylesheet" href="./common/css/control_panel/yami.css" />
	<link rel="stylesheet" href="./common/css/control_panel/dark.css" />
	<link rel="stylesheet" href="./common/css/control_panel/acri.css" />
	<link rel="stylesheet" href="./common/css/control_panel/grey.css" />
	<link rel="stylesheet" href="./common/css/control_panel/light.css" />
	<link rel="stylesheet" href="./common/css/control_panel/rachni.css" />
	<!-- New CSS files (loaded after themes) -->
	<link rel="stylesheet" href="./common/css/control_panel/base.css" />
	<link rel="stylesheet" href="./common/css/control_panel/layout.css" />
	<link rel="stylesheet" href="./common/css/control_panel/components.css" />
	<link rel="stylesheet" href="./common/css/control_panel/required.css" />

	<style>
		#FileUploadAdTop1, #FileUploadAdTop2, #FileUploadAdTop3, #FileUploadAdTop4, #FileUploadAdTop5, #FileUploadAdTop6,
		#FileUploadAdLeft1, #FileUploadAdLeft2, #FileUploadAdLeft3,
		#FileUploadAdRight1, #FileUploadAdRight2, #FileUploadAdRight3 {
			display: none;
		}

		body.ads-modal-open {
			overflow: hidden;
		}

		.ads-color-modal {
			position: fixed;
			inset: 0;
			background: rgba(0, 0, 0, 0.6);
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 12px;
			z-index: 9999;
			box-sizing: border-box;
			overflow: hidden;
			overscroll-behavior: contain;
		}

		.ads-color-modal__panel {
			width: min(var(--panel-width, 320px), 100%);
			max-width: var(--panel-width, 320px);
			max-height: calc(100vh - 24px);
			overflow: hidden;
			display: flex;
			flex-direction: column;
			background: rgba(20, 20, 20, 0.98);
			border: 1px solid rgba(255, 255, 255, 0.12);
			border-radius: 14px;
			padding: 14px;
			box-sizing: border-box;
		}

		.ads-color-modal__header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 12px;
			margin-bottom: 10px;
		}

		.ads-color-modal__title {
			font-weight: 700;
			color: var(--text-primary);
		}

		.ads-color-modal__close {
			cursor: pointer;
			user-select: none;
			font-weight: 800;
			width: 28px;
			height: 28px;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 999px;
			background: rgba(255, 255, 255, 0.08);
			border: 1px solid rgba(255, 255, 255, 0.12);
			color: rgba(255, 255, 255, 0.9);
		}

		.ads-color-modal__body {
			display: grid;
			grid-template-columns: 1fr;
			gap: 10px;
			flex: 1;
			min-height: 0;
			overflow: hidden;
		}

		.ads-color-picker {
			display: grid;
			grid-template-columns: 1fr;
			gap: 10px;
			min-height: 0;
		}

		.ads-color-sv-wrap {
			position: relative;
			width: 100%;
			height: clamp(120px, 22vh, 190px);
			border-radius: 12px;
			overflow: hidden;
			border: 1px solid rgba(255, 255, 255, 0.12);
		}

		#adsColorSv {
			width: 100%;
			height: 100%;
			display: block;
			cursor: crosshair;
			touch-action: none;
		}

		.ads-color-sv-thumb {
			position: absolute;
			width: 14px;
			height: 14px;
			border-radius: 999px;
			border: 2px solid rgba(255, 255, 255, 0.95);
			box-shadow: 0 1px 6px rgba(0, 0, 0, 0.7);
			transform: translate(-7px, -7px);
			pointer-events: none;
		}

		.ads-color-row {
			display: flex;
			align-items: center;
			gap: 8px;
			min-width: 0;
		}

		.ads-color-row__label {
			min-width: 64px;
			color: var(--text-primary);
			font-weight: 600;
		}

		.ads-color-row input[type="range"] {
			flex: 1 1 0;
			min-width: 0;
		}

		#adsColorAlphaLabel {
			min-width: 34px;
			text-align: right;
			white-space: nowrap;
			opacity: 0.9;
		}

		#adsColorHue {
			-webkit-appearance: none;
			appearance: none;
			height: 12px;
			border-radius: 999px;
			background: linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
			outline: none;
		}

		#adsColorHue::-webkit-slider-runnable-track {
			height: 12px;
			border-radius: 999px;
			background: linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
		}

		#adsColorHue::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 18px;
			height: 18px;
			border-radius: 999px;
			background: rgba(255, 255, 255, 0.95);
			border: 2px solid rgba(0, 0, 0, 0.45);
			margin-top: -3px;
			box-shadow: 0 1px 6px rgba(0, 0, 0, 0.55);
		}

		.ads-color-actions {
			display: flex;
			justify-content: flex-end;
			gap: 10px;
			margin-top: 6px;
		}

		.ads-row {
			display: grid;
			grid-template-columns: 28px 1fr;
			gap: 8px;
			align-items: start;
			padding: 6px 0;
		}

		.ads-row__label {
			display: flex;
			align-items: center;
			justify-content: center;
			height: 32px;
			font-weight: 600;
			color: var(--text-primary);
			text-align: center;
		}

		.ads-row__controls {
			display: flex;
			flex-wrap: wrap;
			gap: 8px;
			align-items: center;
		}

		.ads-row--blocked {
			opacity: 0.45;
			filter: grayscale(1);
		}

		.ads-row--blocked .btn,
		.ads-row--blocked input,
		.ads-row--blocked select {
			pointer-events: none;
		}

		.ads-span {
			width: 54px;
		}

		.ads-dims {
			font-size: 11px;
			color: var(--text-secondary, #888);
			white-space: nowrap;
		}

		.ads-title {
			flex: 1 1 100%;
			min-width: 140px;
		}

		.ad-preview {
			position: relative;
			flex: 1 1 100%;
			width: 100%;
			height: 56px;
			border-radius: 8px;
			overflow: hidden;
			background: rgba(0, 0, 0, 0.15);
			border: 1px solid rgba(255, 255, 255, 0.08);
			box-sizing: border-box;
		}

		.ad-preview img {
			width: 100%;
			height: 100%;
			object-fit: contain;
			display: block;
		}

		.ad-preview__delete {
			position: absolute;
			top: 4px;
			right: 6px;
			width: 18px;
			height: 18px;
			border-radius: 999px;
			background: rgba(0, 0, 0, 0.55);
			border: 1px solid rgba(255, 255, 255, 0.2);
			color: rgba(255, 255, 255, 0.9);
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 700;
			cursor: pointer;
			user-select: none;
			line-height: 1;
		}

		.ads-image-modal__panel {
			width: min(920px, 100%);
			max-width: 920px;
			max-height: calc(100vh - 24px);
			overflow: hidden;
			display: flex;
			flex-direction: column;
			background: rgba(20, 20, 20, 0.98);
			border: 1px solid rgba(255, 255, 255, 0.12);
			border-radius: 14px;
			padding: 14px;
			box-sizing: border-box;
		}

		.ads-image-modal__meta {
			display: flex;
			gap: 10px;
			align-items: center;
			flex-wrap: wrap;
			margin-bottom: 10px;
		}

		.ads-image-meter {
			flex: 1 1 260px;
			min-width: 240px;
			height: 10px;
			border-radius: 999px;
			background: rgba(255, 255, 255, 0.12);
			overflow: hidden;
		}

		.ads-image-meter__fill {
			height: 100%;
			width: 0%;
			background: linear-gradient(90deg, rgba(80, 200, 120, 0.95), rgba(255, 200, 0, 0.95), rgba(255, 80, 80, 0.95));
			border-radius: 999px;
			transition: width 160ms linear;
		}

		.ads-image-meter__text {
			font-size: 12px;
			opacity: 0.9;
			color: var(--text-primary);
			white-space: nowrap;
		}

		.ads-image-grid {
			flex: 1;
			min-height: 0;
			overflow: auto;
			display: grid;
			grid-template-columns: repeat(2, minmax(0, 1fr));
			grid-auto-rows: var(--ads-image-card-h, 136px);
			align-content: start;
			max-height: min(
				calc((var(--ads-image-card-h, 136px) * 6) + (10px * 5) + 8px),
				calc(100vh - 240px)
			);
			gap: 10px;
			padding: 4px;
			border: 1px solid rgba(255, 255, 255, 0.08);
			border-radius: 12px;
			background: rgba(0, 0, 0, 0.16);
		}

		@media (min-width: 720px) {
			.ads-image-grid {
				grid-template-columns: repeat(3, minmax(0, 1fr));
			}
		}

		@media (min-width: 980px) {
			.ads-image-grid {
				grid-template-columns: repeat(4, minmax(0, 1fr));
			}
		}

		.ads-image-card {
			position: relative;
			display: grid;
			grid-template-rows: 96px auto;
			border-radius: 12px;
			overflow: hidden;
			border: 1px solid rgba(255, 255, 255, 0.10);
			background: rgba(0, 0, 0, 0.28);
			cursor: pointer;
			height: var(--ads-image-card-h, 136px);
		}

		.ads-image-card__thumb {
			width: 100%;
			height: 96px;
			background: #f6f4ef;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 6px;
			box-sizing: border-box;
		}

		.ads-image-card__thumb img {
			width: 100%;
			height: 100%;
			object-fit: contain;
			display: block;
		}

		.ads-image-card__info {
			padding: 8px;
			display: grid;
			gap: 2px;
			font-size: 11px;
			color: rgba(255, 255, 255, 0.88);
		}

		.ads-image-card__name {
			font-weight: 700;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.ads-image-card__delete {
			position: absolute;
			top: 6px;
			right: 6px;
			width: 22px;
			height: 22px;
			border-radius: 999px;
			background: rgba(0, 0, 0, 0.60);
			border: 1px solid rgba(255, 255, 255, 0.20);
			color: rgba(255, 255, 255, 0.95);
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 800;
			cursor: pointer;
			user-select: none;
			line-height: 1;
		}

		.ads-image-modal__footer {
			display: flex;
			justify-content: space-between;
			gap: 10px;
			margin-top: 10px;
			flex-wrap: wrap;
		}

		.ads-confirm-body {
			display: grid;
			gap: 10px;
			color: var(--text-primary);
		}

		.ads-confirm-message {
			font-weight: 600;
			line-height: 1.35;
		}

		.ads-confirm-actions {
			display: flex;
			justify-content: flex-end;
			gap: 10px;
			flex-wrap: wrap;
			margin-top: 6px;
		}
	</style>

	<script src="./common/js/jquery.js"></script>
	<script src="./common/js/idb_images.js"></script>
	<script src="./common/js/advertising_control_panel.js"></script>
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
</head>
<body onload="adsInit()">
	<header class="panel-header">
		<span class="version-text">Advertising</span>
	</header>

	<div id="mainDiv">
		<section class="section-card" id="adsSection">
			<div class="section-card__title">Advertising</div>

			<div class="grid-section" style="grid-template-columns: 1fr 1fr; gap: var(--grid-gap);">
				<div class="btn btn--primary hover obs28" id="adsTabAds" onclick="adsSelectTabAndRefresh()">Refresh Ads</div>
				<div class="btn hover obs28" id="adsTabSettings" onclick="adsSelectTab('settings')">Settings</div>
			</div>

			<div id="adsPanelAds">
				<div class="checkbox-row">
				<div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
					<label class="checkbox-label" style="margin:0; display:flex; align-items:center; gap:8px;">
						<span>Background</span>
						<span id="adsFrameBgOpen" onclick="adsOpenFrameBgModal()" style="cursor:pointer; font-weight:700; text-decoration: underline;">Select Color</span>
						<span id="adsFrameBgSummary" style="min-width: 90px; opacity: 0.9;"></span>
					</label>
				</div>
				</div>

				<div class="grid-section grid-cols-1" id="adsRows">
				<div class="ads-row" data-region="top" data-index="1">
					<div class="ads-row__label">T1</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('top',1)">
							<input type="file" id="FileUploadAdTop1" onchange="adPost(this,'top',1)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adTop1Span" onchange="adsSetSpan('top',1,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop1Frame" onchange="adsSetFrame('top',1,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop1Show" checked onchange="adsSetShow('top',1,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adTop1Dims">320×180</span>
						<div class="ad-preview noShow" id="adTop1Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('top',1)">X</div>
							<img id="adTop1Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adTop1Title" placeholder="Title (optional)" oninput="adsSetTitle('top',1,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="top" data-index="2">
					<div class="ads-row__label">T2</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('top',2)">
							<input type="file" id="FileUploadAdTop2" onchange="adPost(this,'top',2)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adTop2Span" onchange="adsSetSpan('top',2,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop2Frame" onchange="adsSetFrame('top',2,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop2Show" checked onchange="adsSetShow('top',2,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adTop2Dims">320×180</span>
						<div class="ad-preview noShow" id="adTop2Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('top',2)">X</div>
							<img id="adTop2Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adTop2Title" placeholder="Title (optional)" oninput="adsSetTitle('top',2,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="top" data-index="3">
					<div class="ads-row__label">T3</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('top',3)">
							<input type="file" id="FileUploadAdTop3" onchange="adPost(this,'top',3)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adTop3Span" onchange="adsSetSpan('top',3,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop3Frame" onchange="adsSetFrame('top',3,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop3Show" checked onchange="adsSetShow('top',3,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adTop3Dims">320×180</span>
						<div class="ad-preview noShow" id="adTop3Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('top',3)">X</div>
							<img id="adTop3Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adTop3Title" placeholder="Title (optional)" oninput="adsSetTitle('top',3,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="top" data-index="4">
					<div class="ads-row__label">T4</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('top',4)">
							<input type="file" id="FileUploadAdTop4" onchange="adPost(this,'top',4)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adTop4Span" onchange="adsSetSpan('top',4,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop4Frame" onchange="adsSetFrame('top',4,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop4Show" checked onchange="adsSetShow('top',4,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adTop4Dims">320×180</span>
						<div class="ad-preview noShow" id="adTop4Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('top',4)">X</div>
							<img id="adTop4Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adTop4Title" placeholder="Title (optional)" oninput="adsSetTitle('top',4,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="top" data-index="5">
					<div class="ads-row__label">T5</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('top',5)">
							<input type="file" id="FileUploadAdTop5" onchange="adPost(this,'top',5)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adTop5Span" onchange="adsSetSpan('top',5,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop5Frame" onchange="adsSetFrame('top',5,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop5Show" checked onchange="adsSetShow('top',5,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adTop5Dims">320×180</span>
						<div class="ad-preview noShow" id="adTop5Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('top',5)">X</div>
							<img id="adTop5Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adTop5Title" placeholder="Title (optional)" oninput="adsSetTitle('top',5,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="top" data-index="6">
					<div class="ads-row__label">T6</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('top',6)">
							<input type="file" id="FileUploadAdTop6" onchange="adPost(this,'top',6)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adTop6Span" onchange="adsSetSpan('top',6,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop6Frame" onchange="adsSetFrame('top',6,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adTop6Show" checked onchange="adsSetShow('top',6,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adTop6Dims">320×180</span>
						<div class="ad-preview noShow" id="adTop6Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('top',6)">X</div>
							<img id="adTop6Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adTop6Title" placeholder="Title (optional)" oninput="adsSetTitle('top',6,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="left" data-index="1">
					<div class="ads-row__label">L1</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('left',1)">
							<input type="file" id="FileUploadAdLeft1" onchange="adPost(this,'left',1)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adLeft1Span" onchange="adsSetSpan('left',1,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adLeft1Frame" onchange="adsSetFrame('left',1,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adLeft1Show" checked onchange="adsSetShow('left',1,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adLeft1Dims">320×360</span>
						<div class="ad-preview noShow" id="adLeft1Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('left',1)">X</div>
							<img id="adLeft1Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adLeft1Title" placeholder="Title (optional)" oninput="adsSetTitle('left',1,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="left" data-index="2">
					<div class="ads-row__label">L2</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('left',2)">
							<input type="file" id="FileUploadAdLeft2" onchange="adPost(this,'left',2)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adLeft2Span" onchange="adsSetSpan('left',2,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adLeft2Frame" onchange="adsSetFrame('left',2,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adLeft2Show" checked onchange="adsSetShow('left',2,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adLeft2Dims">320×360</span>
						<div class="ad-preview noShow" id="adLeft2Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('left',2)">X</div>
							<img id="adLeft2Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adLeft2Title" placeholder="Title (optional)" oninput="adsSetTitle('left',2,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="left" data-index="3">
					<div class="ads-row__label">L3</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('left',3)">
							<input type="file" id="FileUploadAdLeft3" onchange="adPost(this,'left',3)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adLeft3Span" onchange="adsSetSpan('left',3,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adLeft3Frame" onchange="adsSetFrame('left',3,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adLeft3Show" checked onchange="adsSetShow('left',3,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adLeft3Dims">320×360</span>
						<div class="ad-preview noShow" id="adLeft3Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('left',3)">X</div>
							<img id="adLeft3Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adLeft3Title" placeholder="Title (optional)" oninput="adsSetTitle('left',3,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="right" data-index="1">
					<div class="ads-row__label">R1</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('right',1)">
							<input type="file" id="FileUploadAdRight1" onchange="adPost(this,'right',1)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adRight1Span" onchange="adsSetSpan('right',1,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adRight1Frame" onchange="adsSetFrame('right',1,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adRight1Show" checked onchange="adsSetShow('right',1,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adRight1Dims">320×360</span>
						<div class="ad-preview noShow" id="adRight1Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('right',1)">X</div>
							<img id="adRight1Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adRight1Title" placeholder="Title (optional)" oninput="adsSetTitle('right',1,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="right" data-index="2">
					<div class="ads-row__label">R2</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('right',2)">
							<input type="file" id="FileUploadAdRight2" onchange="adPost(this,'right',2)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adRight2Span" onchange="adsSetSpan('right',2,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adRight2Frame" onchange="adsSetFrame('right',2,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adRight2Show" checked onchange="adsSetShow('right',2,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adRight2Dims">320×360</span>
						<div class="ad-preview noShow" id="adRight2Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('right',2)">X</div>
							<img id="adRight2Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adRight2Title" placeholder="Title (optional)" oninput="adsSetTitle('right',2,this.value)">
					</div>
				</div>

				<div class="ads-row" data-region="right" data-index="3">
					<div class="ads-row__label">R3</div>
					<div class="ads-row__controls">
						<div class="btn tooltip hover obs28" onclick="triggerAdUpload('right',3)">
							<input type="file" id="FileUploadAdRight3" onchange="adPost(this,'right',3)" accept="image/png, image/jpeg, image/svg+xml, image/bmp" />
							Upload
						</div>
						<select class="select-field ads-span obs28" id="adRight3Span" onchange="adsSetSpan('right',3,this.value)">
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
						</select>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adRight3Frame" onchange="adsSetFrame('right',3,this.checked)">
							<span>Frame</span>
						</label>
						<label class="checkbox-label">
							<input type="checkbox" class="smallSize" id="adRight3Show" checked onchange="adsSetShow('right',3,this.checked)">
							<span>Show</span>
						</label>
						<span class="ads-dims" id="adRight3Dims">320×360</span>
						<div class="ad-preview noShow" id="adRight3Preview">
							<div class="ad-preview__delete" onclick="adsDeleteAd('right',3)">X</div>
							<img id="adRight3Img" src="" alt="">
						</div>
						<input type="text" class="input-field ads-title" id="adRight3Title" placeholder="Title (optional)" oninput="adsSetTitle('right',3,this.value)">
					</div>
				</div>
				</div>
			</div>

			<div id="adsPanelSettings" class="noShow">
				<div class="checkbox-row">
					<div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
						<label class="checkbox-label" style="margin:0;">
							<input type="checkbox" class="smallSize" id="adsFrameArtChk" onchange="adsToggleFrameArt()">
							<span>Dividers</span>
						</label>
						<label class="checkbox-label" style="margin:0;">
							<input type="checkbox" class="smallSize" id="adsShowTopChk" onchange="adsToggleRegion('top')">
							<span>Show Top</span>
						</label>
						<label class="checkbox-label" style="margin:0;">
							<input type="checkbox" class="smallSize" id="adsShowLeftChk" onchange="adsToggleRegion('left')">
							<span>Show Left</span>
						</label>
						<label class="checkbox-label" style="margin:0;">
							<input type="checkbox" class="smallSize" id="adsShowRightChk" onchange="adsToggleRegion('right')">
							<span>Show Right</span>
						</label>
					</div>
				</div>
			</div>
		</section>
	</div>

	<div id="adsFrameBgModal" class="ads-color-modal noShow" onclick="adsCloseFrameBgModal(true)">
		<div class="ads-color-modal__panel" onclick="event.stopPropagation()">
			<div class="ads-color-modal__header">
				<div class="ads-color-modal__title">Select Background</div>
				<div class="ads-color-modal__close" onclick="adsCloseFrameBgModal(false)">X</div>
			</div>
			<div class="ads-color-modal__body">
				<div class="ads-color-picker">
					<div class="ads-color-sv-wrap">
						<canvas id="adsColorSv" width="600" height="440"></canvas>
						<div id="adsColorSvThumb" class="ads-color-sv-thumb"></div>
					</div>
					<div class="ads-color-row">
						<div class="ads-color-row__label">Hue</div>
						<input type="range" id="adsColorHue" min="0" max="360" step="1" value="270" oninput="adsColorModalSetHue(this.value)">
					</div>
					<div class="ads-color-row">
						<div class="ads-color-row__label">Transparency</div>
						<input type="range" id="adsColorAlpha" min="0" max="100" step="1" value="0" oninput="adsColorModalSetAlpha(this.value)">
						<div id="adsColorAlphaLabel">0%</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="adsImagePickerModal" class="ads-color-modal noShow" onclick="adsCloseImagePickerModal(true)">
		<div class="ads-image-modal__panel" onclick="event.stopPropagation()">
			<div class="ads-color-modal__header">
				<div class="ads-color-modal__title">Select Image</div>
				<div class="ads-color-modal__close" onclick="adsCloseImagePickerModal(false)">X</div>
			</div>
			<div class="ads-image-modal__meta">
				<div class="ads-image-meter"><div id="adsImageMeterFill" class="ads-image-meter__fill"></div></div>
				<div id="adsImageMeterText" class="ads-image-meter__text"></div>
			</div>
			<div id="adsImageGrid" class="ads-image-grid"></div>
			<div class="ads-image-modal__footer">
				<div class="btn btn--primary hover obs28" onclick="adsPickUploadNew()">Upload New</div>
				<div class="btn hover obs28" onclick="adsCloseImagePickerModal(false)">Cancel</div>
			</div>
			<input type="file" id="adsImagePickerFile" style="display:none" multiple accept="image/png, image/jpeg, image/svg+xml, image/bmp" onchange="adsHandleImagePickerUpload(this)" />
		</div>
	</div>

	<div id="adsDeleteConfirmModal" class="ads-color-modal noShow" onclick="adsCloseDeleteConfirmModal(true)">
		<div class="ads-color-modal__panel" onclick="event.stopPropagation()">
			<div class="ads-color-modal__header">
				<div class="ads-color-modal__title">Confirm Delete</div>
				<div class="ads-color-modal__close" onclick="adsCloseDeleteConfirmModal(false)">X</div>
			</div>
			<div class="ads-confirm-body">
				<div class="ads-confirm-message" id="adsDeleteConfirmMessage">Delete this stored image?</div>
				<label class="checkbox-label" style="margin:0; display:flex; align-items:center; gap:8px;">
					<input type="checkbox" class="smallSize" id="adsDeleteConfirmDontShow">
					<span>Don't show again</span>
				</label>
				<div class="ads-confirm-actions">
					<div class="btn btn--primary hover obs28" onclick="adsConfirmDeleteProceed()">Delete</div>
					<div class="btn hover obs28" onclick="adsCloseDeleteConfirmModal(false)">Cancel</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
